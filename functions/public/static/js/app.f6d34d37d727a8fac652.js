webpackJsonp([8],{101:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var o=t(57),i=t(389),r=t(180),a=t(179);o.default.use(i.a);var s=new i.a.Store({modules:{user:r.a,shared:a.a}})},147:function(e,n,t){"use strict";var o=t(181),i=t.n(o),r=function e(){i()(this,e)};r.firebase={apiKey:"AIzaSyDqnMO3jiIVhs8hRj7SInrcIb0yYP_UOWo",authDomain:"fireflutter-f1304.firebaseapp.com",databaseURL:"https://fireflutter-f1304.firebaseio.com",projectId:"fireflutter-f1304",storageBucket:"fireflutter-f1304.appspot.com",messagingSenderId:"436808076830",appId:"1:436808076830:web:203de1b486bf426d"},r.firebaseMessagingPublicVapidKey="BJsIg3YzlzWtHZRRAJZtszJycz8t8M5sxtTMNUgs86Dhv-3u-Y5lCnLehbhnBIoE6JFv5MeDVjxB6pZlDsGv90Q",n.a=r},148:function(e,n,t){"use strict";var o=t(57),i=t(388),r=t(178),a=function(){return t.e(6).then(t.bind(null,390))},s=function(){return t.e(4).then(t.bind(null,391))},u=function(){return t.e(1).then(t.bind(null,394))},c=function(){return t.e(2).then(t.bind(null,393))},l=function(){return t.e(3).then(t.bind(null,392))};o.default.use(i.a),n.a=new i.a({routes:[{path:"/",name:"Home",component:a},{path:"/profile",name:"Profile",component:s,beforeEnter:r.a},{path:"/signup",name:"Signup",component:u,beforeEnter:r.b},{path:"/signin",name:"Signin",component:c,beforeEnter:r.b},{path:"/reset-password",name:"Reset Password",component:l,beforeEnter:r.b}],mode:"history"})},177:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(149),i=(t.n(o),t(57)),r=t(150),a=t.n(r),s=t(102),u=(t.n(s),t(148)),c=t(101),l=t(147),d=function(){return t.e(0).then(t.bind(null,386))},m=function(){return t.e(5).then(t.bind(null,387))};i.default.use(a.a),i.default.config.productionTip=!1,u.a.beforeEach(function(e,n,t){document.title="FireFlutter | "+e.name,t()}),i.default.component("app-alert",m),new i.default({el:"#app",router:u.a,store:c.a,template:"<App/>",components:{App:d},created:function(){var e=this;s.initializeApp(l.a.firebase),s.auth().onAuthStateChanged(function(n){n&&s.auth().currentUser.getIdTokenResult().then(function(n){var t={id:n.claims.user_uid,name:n.claims.name||"",email:n.claims.email,photoUrl:n.claims.picture,admin:n.claims.admin||!1};e.$store.dispatch("autoSignIn",t)})}),s.messaging().usePublicVapidKey(l.a.firebaseMessagingPublicVapidKey),s.messaging().onMessage(function(e){console.log("Message received. ",e)}),Notification.requestPermission().then(function(e){return s.messaging().getToken()}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}})},178:function(e,n,t){"use strict";function o(e,n,t){r.a.getters.user?t():t("/signin")}function i(e,n,t){r.a.getters.user?t("/"):t()}n.a=o,n.b=i;var r=t(101)},179:function(e,n,t){"use strict";n.a={state:{loading:!1,error:null},mutations:{setLoading:function(e,n){e.loading=n},setError:function(e,n){e.error=n},clearError:function(e){e.error=null}},actions:{clearError:function(e){(0,e.commit)("clearError")},setError:function(e,n){(0,e.commit)("setError",n)}},getters:{loading:function(e){return e.loading},error:function(e){return e.error}}}},180:function(e,n,t){"use strict";var o=t(102),i=(t.n(o),t(160)),r=t.n(i),a=function(e,n){return r.a.get("https://us-central1-"+n+".cloudfunctions.net/verifyAdmin",{params:{token:e}})};n.a={state:{user:null},mutations:{setUser:function(e,n){e.user=n}},actions:{signUserUp:function(e,n){var t=e.commit;t("setLoading",!0),t("clearError"),o.auth().createUserWithEmailAndPassword(n.email,n.password).then(function(e){t("setLoading",!1);var n={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};t("setUser",n)}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},signUserIn:function(e,n){var t=e.commit,i=e.dispatch;t("setLoading",!0),t("clearError"),o.auth().signInWithEmailAndPassword(n.email,n.password).then(function(e){t("setLoading",!1);var n={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};t("setUser",n),i("signUserInCustomToken")}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},signUserInGoogle:function(e){var n=e.commit,t=e.dispatch;n("setLoading",!0),n("clearError"),o.auth().signInWithPopup(new o.auth.GoogleAuthProvider).then(function(e){n("setLoading",!1);var o={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};n("setUser",o),t("signUserInCustomToken")}).catch(function(e){n("setLoading",!1),n("setError",e),console.log(e)})},signUserInFacebook:function(e){var n=e.commit;n("setLoading",!0),n("clearError"),o.auth().signInWithPopup(new o.auth.FacebookAuthProvider).then(function(e){n("setLoading",!1);var t={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};n("setUser",t)}).catch(function(e){n("setLoading",!1),n("setError",e),console.log(e)})},signUserInGithub:function(e){var n=e.commit;n("setLoading",!0),n("clearError"),o.auth().signInWithPopup(new o.auth.GithubAuthProvider).then(function(e){n("setLoading",!1);var t={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};n("setUser",t)}).catch(function(e){n("setLoading",!1),n("setError",e),console.log(e)})},signUserInTwitter:function(e){var n=e.commit;n("setLoading",!0),n("clearError"),o.auth().signInWithPopup(new o.auth.TwitterAuthProvider).then(function(e){n("setLoading",!1);var t={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};n("setUser",t)}).catch(function(e){n("setLoading",!1),n("setError",e),console.log(e)})},signUserInCustomToken:function(e){var n=e.commit;n("setLoading",!0),n("clearError"),o.auth().currentUser.getIdToken(!0).then(function(e){return a(e,o.apps[0].options.projectId)}).then(function(e){return o.auth().signInWithCustomToken(e.data.token)}).then(function(e){n("setLoading",!1);var t={id:e.user.uid,name:e.user.displayName,email:e.user.email,photoUrl:e.user.photoURL};n("setUser",t)}).catch(function(e){n("setLoading",!1),n("setError",e),console.log(e)})},autoSignIn:function(e,n){(0,e.commit)("setUser",{id:n.uid,name:n.displayName,email:n.email,photoUrl:n.photoURL})},resetPasswordWithEmail:function(e,n){var t=e.commit,i=n.email;t("setLoading",!0),o.auth().sendPasswordResetEmail(i).then(function(){t("setLoading",!1),console.log("Email Sent")}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},logout:function(e){var n=e.commit;o.auth().signOut(),n("setUser",null)}},getters:{user:function(e){return e.user}}}}},[177]);